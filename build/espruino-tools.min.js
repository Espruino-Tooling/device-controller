/*! For license information please see espruino-tools.min.js.LICENSE.txt */
(()=>{var e={"./node_modules/espruino-ble-uart/uart.js":function(e,t){var n,o,i;"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){if("undefined"!=typeof navigator){var e,t,n=[],o=[],i={name:"Web Bluetooth",description:"Bluetooth LE devices",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z" fill="#ffffff"/></svg>',isSupported:function(){return navigator.platform.indexOf("Win")>=0&&(navigator.userAgent.indexOf("Chrome/54")>=0||navigator.userAgent.indexOf("Chrome/55")>=0||navigator.userAgent.indexOf("Chrome/56")>=0)?"Chrome <56 in Windows has navigator.bluetooth but it's not implemented properly":window&&window.location&&"http:"==window.location.protocol&&"localhost"!=window.location.hostname?"Serving off HTTP (not HTTPS) - Web Bluetooth not enabled":!!navigator.bluetooth||(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"To use Web Bluetooth on iOS you'll need the WebBLE App.\nPlease go to https://itunes.apple.com/us/app/webble/id1193531073 to download it.":"This Web Browser doesn't support Web Bluetooth.\nPlease see https://www.espruino.com/Puck.js+Quick+Start")},connect:function(t,o){var i,r,s,f="6e400001-b5a3-f393-e0a9-e50e24dcca9e",d="6e400002-b5a3-f393-e0a9-e50e24dcca9e",p="6e400003-b5a3-f393-e0a9-e50e24dcca9e",h=20,v=void 0,g=[],b=!1;return t.close=function(e){t.isOpening=!1,t.isOpen?(t.isOpen=!1,t.emit("close")):e&&e(null),v&&(v.disconnect(),v=void 0,r=void 0,s=void 0)},t.write=function(e,n){function o(){var e;if(b)setTimeout(o,50);else if(g.length){var n=g[0];c.writeProgress(n.maxLength-n.data.length,n.maxLength),n.data.length<=h?(e=n.data,n.data=void 0):(e=n.data.substr(0,h),n.data=n.data.substr(h)),t.txInProgress=!0,l(2,"Sending "+JSON.stringify(e)),r.writeValue(u(e)).then((function(){l(3,"Sent"),n.data||(g.shift(),n.callback&&n.callback()),t.txInProgress=!1,o()})).catch((function(e){l(1,"SEND ERROR: "+e),g=[],t.close()}))}else c.writeProgress()}e&&g.push({data:e,callback:n,maxLength:e.length}),t.isOpen&&!t.txInProgress&&o()},navigator.bluetooth.requestDevice({filters:[{namePrefix:"Puck.js"},{namePrefix:"Pixl.js"},{namePrefix:"MDBT42Q"},{namePrefix:"Bangle"},{namePrefix:"RuuviTag"},{namePrefix:"iTracker"},{namePrefix:"Thingy"},{namePrefix:"Espruino"},{services:[f]}],optionalServices:[f]}).then((function(e){return l(1,"Device Name:       "+e.name),l(1,"Device ID:         "+e.id),e.addEventListener("gattserverdisconnected",(function(){l(1,"Disconnected (gattserverdisconnected)"),t.close()})),e.gatt.connect()})).then((function(e){return l(1,"Connected"),v=e,e.getPrimaryService(f)})).then((function(e){return l(2,"Got service"),(i=e).getCharacteristic(p)})).then((function(e){return s=e,l(2,"RX characteristic:"+JSON.stringify(s)),s.addEventListener("characteristicvaluechanged",(function(e){var n=e.target.value;if(c.flowControl)for(var o=0;o<n.length;o++){var i=n.getUint8(o);17==i&&(l(2,"XON received => resume upload"),b=!1),19==i&&(l(2,"XOFF received => pause upload"),b=!0)}var r=a(n.buffer);l(3,"Received "+JSON.stringify(r)),t.emit("data",r)})),s.startNotifications()})).then((function(){return i.getCharacteristic(d)})).then((function(e){r=e,l(2,"TX characteristic:"+JSON.stringify(r))})).then((function(){t.txInProgress=!1,t.isOpen=!0,t.isOpening=!1,e=!1,n=[],o(t),t.emit("open"),t.write()})).catch((function(e){l(1,"ERROR: "+e),t.close()})),t}},r={name:"Web Serial",description:"USB connected devices",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z" fill="#ffffff"/></svg>',isSupported:function(){return navigator.serial?!window||!window.location||"http:"!=window.location.protocol||"localhost"==window.location.hostname||"Serving off HTTP (not HTTPS) - Web Serial not enabled":"No navigator.serial - Web Serial not enabled"},connect:function(e,t){var n;function o(){e.isOpening=!1,e.isOpen&&(l(1,"Disconnected"),e.isOpen=!1,e.emit("close"))}return navigator.serial.requestPort({}).then((function(e){return l(1,"Connecting to serial port"),n=e,e.open({baudrate:115200})})).then((function(){function i(){var t=n.readable.getReader();t.read().then((function({value:n,done:r}){if(t.releaseLock(),n){var c=a(n.buffer);l(3,"Received "+JSON.stringify(c)),e.emit("data",c)}r?o():i()}))}i(),l(1,"Serial connected. Receiving data..."),e.txInProgress=!1,e.isOpen=!0,e.isOpening=!1,t(e)})).catch((function(e){l(0,"ERROR: "+e),o()})),e.close=function(e){n&&(n.close(),n=void 0),o()},e.write=function(e,t){var o=n.writable.getWriter();o.write(u(e)).then((function(){t()})).catch((function(e){l(0,"SEND ERROR: "+e),closeSerial()})),o.releaseLock()},e}};o.push(i),o.push(r);var c={debug:3,flowControl:!0,log:function(e,t){e<=this.debug&&console.log("<UART> "+t)},writeProgress:function(e,t){},connect:f,write:p,eval:h,setTime:function(e){var t=new Date,n="setTime("+t.getTime()/1e3+");";p(n+="if (E.setTimeZone) E.setTimeZone("+t.getTimezoneOffset()/-60+");\n",e)},isConnected:function(){return void 0!==t},getConnection:function(){return t},close:function(){t&&t.close()},modal:function(e){var t=document.createElement("div");t.style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;opacity:0.5;z-index:100;background:black;",t.innerHTML='<div style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-family: Sans-Serif;font-size:400%;color:white;">Click to Continue...</div>',t.onclick=function(n){e(),n.preventDefault(),document.body.removeChild(t)},document.body.appendChild(t)}};return c}function a(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function u(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),o=0,i=e.length;o<i;o++)n[o]=e.charCodeAt(o);return t}function s(){if(n.length){var e=n.shift();l(3,"Executing "+JSON.stringify(e)+" from queue"),"eval"==e.type?c.eval(e.expr,e.cb):"write"==e.type?c.write(e.data,e.callback,e.callbackNewline):l(1,"Unknown queue item "+JSON.stringify(e))}}function l(e,t){c.log&&c.log(e,t)}function f(e){var t={on:function(e,t){this["on"+e]=t},emit:function(e,t){this["on"+e]&&this["on"+e](t)},isOpen:!1,isOpening:!0,txInProgress:!1},n=document.createElement("div");n.style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;opacity:0.5;z-index:100;background:black;";var i=document.createElement("div");i.style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-family: Sans-Serif;z-index:101;";var r=document.createElement("div");r.innerText="SELECT A PORT...",r.style="color:#fff;background:#000;padding:8px 8px 4px 8px;font-weight:bold;",i.appendChild(r);var c=document.createElement("div");return c.style="color:#000;background:#fff;padding:4px 8px 4px 8px;",i.appendChild(c),o.forEach((function(o){var r=o.isSupported();!0!==r&&l(0,o.name+" not supported, "+r);var a=document.createElement("div");a.style="width:300px;height:60px;background:#ccc;margin:4px 0px 4px 0px;padding:0px 0px 0px 68px;cursor:pointer;",a.innerHTML='<div style="position:absolute;left:8px;width:48px;height:48px;background:#999;padding:6px;cursor:pointer;">'+o.svg+'</div><div style="font-size:150%;padding-top:8px;">'+o.name+'</div><div style="font-size:80%;color:#666">'+o.description+"</div>",a.onclick=function(r){t=o.connect(t,e),r.preventDefault(),document.body.removeChild(i),document.body.removeChild(n)},c.appendChild(a)})),document.body.appendChild(n),document.body.appendChild(i),t}function d(){var e=!1;return o.forEach((function(t){var n=t.isSupported();!0===n?e=!0:l(0,t.name+" not supported, "+n)})),e}function p(o,i,r){if(d()){if(e)return l(3,"Busy - adding write to queue"),void n.push({type:"write",data:o,callback:i,callbackNewline:r});var c;if(t&&(t.isOpen||t.isOpening))return t.txInProgress||(t.received=""),e=!0,t.write(o,a);t=f((function(n){if(!n)return t=void 0,void(i&&i(null));t.received="",t.on("data",(function(e){t.received+=e,t.hadData=!0,t.cb&&t.cb(e)})),t.on("close",(function(e){t=void 0})),e=!0,t.write(o,a)}))}function a(){r&&(t.cb=function(n){var o=t.received.indexOf("\n");if(o>=0){var r=t.received.substr(0,o);t.received=t.received.substr(o+1),t.cb=void 0,c&&clearTimeout(c),c=void 0,i&&i(r),e=!1,s()}});var n=300,o=r?100:3,a=o;c=setTimeout((function u(){c=void 0,n&&n--,a&&a--,t.hadData&&(a=o),a&&n?c=setTimeout(u,100):(t.cb=void 0,r&&l(2,"write waiting for newline timed out"),i&&i(t.received),e=!1,s(),t.received=""),t.hadData=!1}),100)}}function h(t,o){if(d())return e?(l(3,"Busy - adding eval to queue"),void n.push({type:"eval",expr:t,cb:o})):void p("eval(process.env.CONSOLE).println(JSON.stringify("+t+"))\n",(function(e){try{var t=JSON.parse(e.trim());o(t)}catch(t){l(1,"Unable to decode "+JSON.stringify(e)+", got "+t.toString()),o(null,"Unable to decode "+JSON.stringify(e)+", got "+t.toString())}}),!0)}})?n.apply(t,o):n)||(e.exports=i)},"./src/espruino-tool.ts":function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EspruinoTool=void 0;var r=n("./node_modules/espruino-ble-uart/uart.js"),c=n("./src/helpers/fetchHelper.ts"),a=function(){function e(){this.connected=!1,this.UART=r.default}return e.prototype.dump=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.eval("E.dumpStr()")]}))}))},e.prototype.getDeviceType=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.eval("process.env.BOARD")]}))}))},e.prototype.getBattery=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.eval("E.getBattery()")]}))}))},e.prototype.getTemperature=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.eval("E.getTemperature()")]}))}))},e.prototype.eval=function(e){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,new Promise((function(n,o){t.UART.eval(e,(function(e){n(e)}))}))]}))}))},e.prototype.connect=function(){var e,t=this;null===(e=this.UART)||void 0===e||e.write("",(function(){return t.connected=!0}))},e.prototype.disconnect=function(){var e;null===(e=this.UART)||void 0===e||e.close(),this.connected=!1},e.prototype.reset=function(){this.UART.write("reset(true);\n")},e.prototype.upload=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var n,r=this;return i(this,(function(a){switch(a.label){case 0:return[4,this.getDeviceType()];case 1:return"BANGLEJS"===(n=a.sent())&&(t=!1),!1,[4,(0,c.fetchToText)(e).then((function(e){return o(r,void 0,void 0,(function(){var r=this;return i(this,(function(c){return this.dump().then((function(e){return o(r,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))})),this.reset(),t?"PIXLJS"!==n?(this.UART.write("E.setBootCode(`".concat(e,"`,true);\n")),this.UART.write("load();\n")):(this.UART.write(e),this.UART.write("save();\n"),this.UART.write("load();\n")):this.UART.write(e),[2]}))}))}))];case 2:return a.sent(),[2]}}))}))},e}();t.EspruinoTool=a},"./src/helpers/fetchHelper.ts":function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((o=o.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchToText=void 0,t.fetchToText=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,fetch(e).then((function(e){if(!e.ok)throw new Error(e.status);return e}))];case 1:if(!(t=n.sent()))throw new Error("fetch on :".concat(e," failed"));return[4,t.text()];case 2:return[2,n.sent()]}}))}))}},"./src/helpers/funcToString.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyFunction=void 0,t.stringifyFunction=function(e){return console.log(e.toString()),e.toString().split("\n").slice(1,-1).join("\n")}},"./src/puck/puck.ts":function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Puck=void 0;var r=n("./src/espruino-tool.ts"),c=n("./src/helpers/funcToString.ts"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onPress=function(e){this.UART.write("reset();\n"),this.UART.write("\n    setWatch(function(){\n      ".concat((0,c.stringifyFunction)(e),';\n    }, BTN,{edge:"rising", repeat:true, debounce:50})\n  '))},t}(r.EspruinoTool);t.Puck=a}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}var o={};(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.Puck=void 0;var t=n("./src/espruino-tool.ts"),i=n("./src/puck/puck.ts");Object.defineProperty(e,"Puck",{enumerable:!0,get:function(){return i.Puck}}),e.default=t.EspruinoTool})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQ2xCRCxFQUFROEMsS0FBT0EsSUM5QlhNLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQnpPLElBQWpCME8sRUFDSCxPQUFPQSxFQUFhdkQsUUFHckIsSUFBSXdELEVBQVNKLEVBQXlCRSxHQUFZLENBR2pEdEQsUUFBUyxDQUFDLEdBT1gsT0FIQXlELEVBQW9CSCxHQUFVMUQsS0FBSzRELEVBQU94RCxRQUFTd0QsRUFBUUEsRUFBT3hELFFBQVNxRCxHQUdwRUcsRUFBT3hELE9BQ2YscUNDckJBRixPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRXBJLE9BQU8sSUFDdERvSSxFQUFROEMsVUFBTyxFQUNmLElBQUlDLEVBQWtCLEVBQVEsMEJBQzFCVyxFQUFTLEVBQVEsc0JBQ3JCNUQsT0FBT0MsZUFBZUMsRUFBUyxPQUFRLENBQUUyRCxZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPRixFQUFPWixJQUFNLElBQ2xHOUMsRUFBQSxRQUFrQitDLEVBQWdCOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3BydWluby10b29scy8uL25vZGVfbW9kdWxlcy9lc3BydWluby1ibGUtdWFydC91YXJ0LmpzIiwid2VicGFjazovL2VzcHJ1aW5vLXRvb2xzLy4vc3JjL2VzcHJ1aW5vLXRvb2wudHMiLCJ3ZWJwYWNrOi8vZXNwcnVpbm8tdG9vbHMvLi9zcmMvaGVscGVycy9mZXRjaEhlbHBlci50cyIsIndlYnBhY2s6Ly9lc3BydWluby10b29scy8uL3NyYy9oZWxwZXJzL2Z1bmNUb1N0cmluZy50cyIsIndlYnBhY2s6Ly9lc3BydWluby10b29scy8uL3NyYy9wdWNrL3B1Y2sudHMiLCJ3ZWJwYWNrOi8vZXNwcnVpbm8tdG9vbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXNwcnVpbm8tdG9vbHMvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IDIwMjAgR29yZG9uIFdpbGxpYW1zLCBnd0BwdXIzLmNvLnVrXHJcbiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9lc3BydWluby9Fc3BydWlub1dlYlRvb2xzXHJcbiovXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxyXG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxyXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcclxuICAgICAgICByb290LlVBUlQgPSBmYWN0b3J5KCk7XHJcbiAgICB9XHJcbn0odHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xyXG4gIHZhciBpc0J1c3k7XHJcbiAgdmFyIHF1ZXVlID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIGFiMnN0cihidWYpIHtcclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZikpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBzdHIyYWIoc3RyKSB7XHJcbiAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHN0ci5sZW5ndGgpO1xyXG4gICAgdmFyIGJ1ZlZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xyXG4gICAgZm9yICh2YXIgaT0wLCBzdHJMZW49c3RyLmxlbmd0aDsgaTxzdHJMZW47IGkrKylcclxuICAgICAgYnVmVmlld1tpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgcmV0dXJuIGJ1ZjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVF1ZXVlKCkge1xyXG4gICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHJldHVybjtcclxuICAgIHZhciBxID0gcXVldWUuc2hpZnQoKTtcclxuICAgIGxvZygzLFwiRXhlY3V0aW5nIFwiK0pTT04uc3RyaW5naWZ5KHEpK1wiIGZyb20gcXVldWVcIik7XHJcbiAgICBpZiAocS50eXBlPT1cImV2YWxcIikgdWFydC5ldmFsKHEuZXhwciwgcS5jYik7XHJcbiAgICBlbHNlIGlmIChxLnR5cGU9PVwid3JpdGVcIikgdWFydC53cml0ZShxLmRhdGEsIHEuY2FsbGJhY2ssIHEuY2FsbGJhY2tOZXdsaW5lKTtcclxuICAgIGVsc2UgbG9nKDEsXCJVbmtub3duIHF1ZXVlIGl0ZW0gXCIrSlNPTi5zdHJpbmdpZnkocSkpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbG9nKGxldmVsLCBzKSB7XHJcbiAgICBpZiAodWFydC5sb2cpIHVhcnQubG9nKGxldmVsLCBzKTtcclxuICB9XHJcblxyXG4gIHZhciBlbmRwb2ludHMgPSBbXTtcclxuICB2YXIgV2ViQmx1ZXRvb3RoID0ge1xyXG4gICAgbmFtZSA6IFwiV2ViIEJsdWV0b290aFwiLFxyXG4gICAgZGVzY3JpcHRpb24gOiBcIkJsdWV0b290aCBMRSBkZXZpY2VzXCIsXHJcbiAgICBzdmcgOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCI0OFwiIGhlaWdodD1cIjQ4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PHBhdGggZD1cIk0xNy43MSA3LjcxTDEyIDJoLTF2Ny41OUw2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMSAxNC40MVYyMmgxbDUuNzEtNS43MS00LjMtNC4yOSA0LjMtNC4yOXpNMTMgNS44M2wxLjg4IDEuODhMMTMgOS41OVY1Ljgzem0xLjg4IDEwLjQ2TDEzIDE4LjE3di0zLjc2bDEuODggMS44OHpcIiBmaWxsPVwiI2ZmZmZmZlwiLz48L3N2Zz4nLFxyXG4gICAgaXNTdXBwb3J0ZWQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKFwiV2luXCIpPj0wICYmXHJcbiAgICAgICAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lLzU0XCIpPj0wIHx8XHJcbiAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lLzU1XCIpPj0wIHx8XHJcbiAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lLzU2XCIpPj0wKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiBcIkNocm9tZSA8NTYgaW4gV2luZG93cyBoYXMgbmF2aWdhdG9yLmJsdWV0b290aCBidXQgaXQncyBub3QgaW1wbGVtZW50ZWQgcHJvcGVybHlcIjs7XHJcbiAgICAgIGlmICh3aW5kb3cgJiYgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD09XCJodHRwOlwiICYmXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUhPVwibG9jYWxob3N0XCIpXHJcbiAgICAgICAgcmV0dXJuIFwiU2VydmluZyBvZmYgSFRUUCAobm90IEhUVFBTKSAtIFdlYiBCbHVldG9vdGggbm90IGVuYWJsZWRcIjtcclxuICAgICAgaWYgKG5hdmlnYXRvci5ibHVldG9vdGgpIHJldHVybiB0cnVlO1xyXG4gICAgICB2YXIgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcclxuICAgICAgaWYgKGlPUykge1xyXG4gICAgICAgIHJldHVybiBcIlRvIHVzZSBXZWIgQmx1ZXRvb3RoIG9uIGlPUyB5b3UnbGwgbmVlZCB0aGUgV2ViQkxFIEFwcC5cXG5QbGVhc2UgZ28gdG8gaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3VzL2FwcC93ZWJibGUvaWQxMTkzNTMxMDczIHRvIGRvd25sb2FkIGl0LlwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcIlRoaXMgV2ViIEJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFdlYiBCbHVldG9vdGguXFxuUGxlYXNlIHNlZSBodHRwczovL3d3dy5lc3BydWluby5jb20vUHVjay5qcytRdWljaytTdGFydFwiO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29ubmVjdCA6IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBOT1JESUNfU0VSVklDRSA9IFwiNmU0MDAwMDEtYjVhMy1mMzkzLWUwYTktZTUwZTI0ZGNjYTllXCI7XHJcbiAgICAgIHZhciBOT1JESUNfVFggPSBcIjZlNDAwMDAyLWI1YTMtZjM5My1lMGE5LWU1MGUyNGRjY2E5ZVwiO1xyXG4gICAgICB2YXIgTk9SRElDX1JYID0gXCI2ZTQwMDAwMy1iNWEzLWYzOTMtZTBhOS1lNTBlMjRkY2NhOWVcIjtcclxuICAgICAgdmFyIENIVU5LU0laRSA9IDIwO1xyXG5cclxuICAgICAgdmFyIGJ0U2VydmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICB2YXIgYnRTZXJ2aWNlO1xyXG4gICAgICB2YXIgY29ubmVjdGlvbkRpc2Nvbm5lY3RDYWxsYmFjaztcclxuICAgICAgdmFyIHR4Q2hhcmFjdGVyaXN0aWM7XHJcbiAgICAgIHZhciByeENoYXJhY3RlcmlzdGljO1xyXG4gICAgICB2YXIgdHhEYXRhUXVldWUgPSBbXTtcclxuICAgICAgdmFyIGZsb3dDb250cm9sWE9GRiA9IGZhbHNlO1xyXG5cclxuICAgICAgY29ubmVjdGlvbi5jbG9zZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29ubmVjdGlvbi5pc09wZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoY29ubmVjdGlvbi5pc09wZW4pIHtcclxuICAgICAgICAgIGNvbm5lY3Rpb24uaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICBjb25uZWN0aW9uLmVtaXQoJ2Nsb3NlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChidFNlcnZlcikge1xyXG4gICAgICAgICAgYnRTZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgYnRTZXJ2ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB0eENoYXJhY3RlcmlzdGljID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgcnhDaGFyYWN0ZXJpc3RpYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25uZWN0aW9uLndyaXRlID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoZGF0YSkgdHhEYXRhUXVldWUucHVzaCh7ZGF0YTpkYXRhLGNhbGxiYWNrOmNhbGxiYWNrLG1heExlbmd0aDpkYXRhLmxlbmd0aH0pO1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLmlzT3BlbiAmJiAhY29ubmVjdGlvbi50eEluUHJvZ3Jlc3MpIHdyaXRlQ2h1bmsoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVDaHVuaygpIHtcclxuICAgICAgICAgIGlmIChmbG93Q29udHJvbFhPRkYpIHsgLy8gZmxvdyBjb250cm9sIC0gdHJ5IGFnYWluIGxhdGVyXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQod3JpdGVDaHVuaywgNTApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgY2h1bms7XHJcbiAgICAgICAgICBpZiAoIXR4RGF0YVF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB1YXJ0LndyaXRlUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIHR4SXRlbSA9IHR4RGF0YVF1ZXVlWzBdO1xyXG4gICAgICAgICAgdWFydC53cml0ZVByb2dyZXNzKHR4SXRlbS5tYXhMZW5ndGggLSB0eEl0ZW0uZGF0YS5sZW5ndGgsIHR4SXRlbS5tYXhMZW5ndGgpO1xyXG4gICAgICAgICAgaWYgKHR4SXRlbS5kYXRhLmxlbmd0aCA8PSBDSFVOS1NJWkUpIHtcclxuICAgICAgICAgICAgY2h1bmsgPSB0eEl0ZW0uZGF0YTtcclxuICAgICAgICAgICAgdHhJdGVtLmRhdGEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaHVuayA9IHR4SXRlbS5kYXRhLnN1YnN0cigwLENIVU5LU0laRSk7XHJcbiAgICAgICAgICAgIHR4SXRlbS5kYXRhID0gdHhJdGVtLmRhdGEuc3Vic3RyKENIVU5LU0laRSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICBsb2coMiwgXCJTZW5kaW5nIFwiKyBKU09OLnN0cmluZ2lmeShjaHVuaykpO1xyXG4gICAgICAgICAgdHhDaGFyYWN0ZXJpc3RpYy53cml0ZVZhbHVlKHN0cjJhYihjaHVuaykpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxvZygzLCBcIlNlbnRcIik7XHJcbiAgICAgICAgICAgIGlmICghdHhJdGVtLmRhdGEpIHtcclxuICAgICAgICAgICAgICB0eERhdGFRdWV1ZS5zaGlmdCgpOyAvLyByZW1vdmUgdGhpcyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgaWYgKHR4SXRlbS5jYWxsYmFjaylcclxuICAgICAgICAgICAgICAgIHR4SXRlbS5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24udHhJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdyaXRlQ2h1bmsoKTtcclxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgbG9nKDEsICdTRU5EIEVSUk9SOiAnICsgZXJyb3IpO1xyXG4gICAgICAgICAgIHR4RGF0YVF1ZXVlID0gW107XHJcbiAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbmF2aWdhdG9yLmJsdWV0b290aC5yZXF1ZXN0RGV2aWNlKHtcclxuICAgICAgICAgIGZpbHRlcnM6W1xyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdQdWNrLmpzJyB9LFxyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdQaXhsLmpzJyB9LFxyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdNREJUNDJRJyB9LFxyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdCYW5nbGUnIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZVByZWZpeDogJ1J1dXZpVGFnJyB9LFxyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdpVHJhY2tlcicgfSxcclxuICAgICAgICAgICAgeyBuYW1lUHJlZml4OiAnVGhpbmd5JyB9LFxyXG4gICAgICAgICAgICB7IG5hbWVQcmVmaXg6ICdFc3BydWlubycgfSxcclxuICAgICAgICAgICAgeyBzZXJ2aWNlczogWyBOT1JESUNfU0VSVklDRSBdIH1cclxuICAgICAgICAgIF0sIG9wdGlvbmFsU2VydmljZXM6IFsgTk9SRElDX1NFUlZJQ0UgXX0pLnRoZW4oZnVuY3Rpb24oZGV2aWNlKSB7XHJcbiAgICAgICAgbG9nKDEsICdEZXZpY2UgTmFtZTogICAgICAgJyArIGRldmljZS5uYW1lKTtcclxuICAgICAgICBsb2coMSwgJ0RldmljZSBJRDogICAgICAgICAnICsgZGV2aWNlLmlkKTtcclxuICAgICAgICAvLyBXYXMgZGVwcmVjYXRlZDogU2hvdWxkIHVzZSBnZXRQcmltYXJ5U2VydmljZXMgZm9yIHRoaXMgaW4gZnV0dXJlXHJcbiAgICAgICAgLy9sb2coJ0JUPiAgRGV2aWNlIFVVSURzOiAgICAgICcgKyBkZXZpY2UudXVpZHMuam9pbignXFxuJyArICcgJy5yZXBlYXQoMjEpKSk7XHJcbiAgICAgICAgZGV2aWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2dhdHRzZXJ2ZXJkaXNjb25uZWN0ZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxvZygxLCBcIkRpc2Nvbm5lY3RlZCAoZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZClcIik7XHJcbiAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRldmljZS5nYXR0LmNvbm5lY3QoKTtcclxuICAgICAgfSkudGhlbihmdW5jdGlvbihzZXJ2ZXIpIHtcclxuICAgICAgICBsb2coMSwgXCJDb25uZWN0ZWRcIik7XHJcbiAgICAgICAgYnRTZXJ2ZXIgPSBzZXJ2ZXI7XHJcbiAgICAgICAgcmV0dXJuIHNlcnZlci5nZXRQcmltYXJ5U2VydmljZShOT1JESUNfU0VSVklDRSk7XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oc2VydmljZSkge1xyXG4gICAgICAgIGxvZygyLCBcIkdvdCBzZXJ2aWNlXCIpO1xyXG4gICAgICAgIGJ0U2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgcmV0dXJuIGJ0U2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyhOT1JESUNfUlgpO1xyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjaGFyYWN0ZXJpc3RpYykge1xyXG4gICAgICAgIHJ4Q2hhcmFjdGVyaXN0aWMgPSBjaGFyYWN0ZXJpc3RpYztcclxuICAgICAgICBsb2coMiwgXCJSWCBjaGFyYWN0ZXJpc3RpYzpcIitKU09OLnN0cmluZ2lmeShyeENoYXJhY3RlcmlzdGljKSk7XHJcbiAgICAgICAgcnhDaGFyYWN0ZXJpc3RpYy5hZGRFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgZGF0YXZpZXcgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICBpZiAodWFydC5mbG93Q29udHJvbCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxkYXRhdmlldy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNoID0gZGF0YXZpZXcuZ2V0VWludDgoaSk7XHJcbiAgICAgICAgICAgICAgaWYgKGNoPT0xNykgeyAvLyBYT05cclxuICAgICAgICAgICAgICAgIGxvZygyLFwiWE9OIHJlY2VpdmVkID0+IHJlc3VtZSB1cGxvYWRcIik7XHJcbiAgICAgICAgICAgICAgICBmbG93Q29udHJvbFhPRkYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGNoPT0xOSkgeyAvLyBYT0ZGXHJcbiAgICAgICAgICAgICAgICBsb2coMixcIlhPRkYgcmVjZWl2ZWQgPT4gcGF1c2UgdXBsb2FkXCIpO1xyXG4gICAgICAgICAgICAgICAgZmxvd0NvbnRyb2xYT0ZGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciBzdHIgPSBhYjJzdHIoZGF0YXZpZXcuYnVmZmVyKTtcclxuICAgICAgICAgIGxvZygzLCBcIlJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KHN0cikpO1xyXG4gICAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdkYXRhJywgc3RyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcnhDaGFyYWN0ZXJpc3RpYy5zdGFydE5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gYnRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKE5PUkRJQ19UWCk7XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNoYXJhY3RlcmlzdGljKSB7XHJcbiAgICAgICAgdHhDaGFyYWN0ZXJpc3RpYyA9IGNoYXJhY3RlcmlzdGljO1xyXG4gICAgICAgIGxvZygyLCBcIlRYIGNoYXJhY3RlcmlzdGljOlwiK0pTT04uc3RyaW5naWZ5KHR4Q2hhcmFjdGVyaXN0aWMpKTtcclxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbm5lY3Rpb24uaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICBjb25uZWN0aW9uLmlzT3BlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlzQnVzeSA9IGZhbHNlO1xyXG4gICAgICAgIHF1ZXVlID0gW107XHJcbiAgICAgICAgY2FsbGJhY2soY29ubmVjdGlvbik7XHJcbiAgICAgICAgY29ubmVjdGlvbi5lbWl0KCdvcGVuJyk7XHJcbiAgICAgICAgLy8gaWYgd2UgaGFkIGFueSB3cml0ZXMgcXVldWVkLCBkbyB0aGVtIG5vd1xyXG4gICAgICAgIGNvbm5lY3Rpb24ud3JpdGUoKTtcclxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBsb2coMSwgJ0VSUk9SOiAnICsgZXJyb3IpO1xyXG4gICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBjb25uZWN0aW9uO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgdmFyIFdlYlNlcmlhbCA9IHtcclxuICAgIG5hbWUgOiBcIldlYiBTZXJpYWxcIixcclxuICAgIGRlc2NyaXB0aW9uIDogXCJVU0IgY29ubmVjdGVkIGRldmljZXNcIixcclxuICAgIHN2ZyA6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjQ4XCIgaGVpZ2h0PVwiNDhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48cGF0aCBkPVwiTTE1IDd2NGgxdjJoLTNWNWgybC0zLTQtMyA0aDJ2OEg4di0yLjA3Yy43LS4zNyAxLjItMS4wOCAxLjItMS45MyAwLTEuMjEtLjk5LTIuMi0yLjItMi4yLTEuMjEgMC0yLjIuOTktMi4yIDIuMiAwIC44NS41IDEuNTYgMS4yIDEuOTNWMTNjMCAxLjExLjg5IDIgMiAyaDN2My4wNWMtLjcxLjM3LTEuMiAxLjEtMS4yIDEuOTUgMCAxLjIyLjk5IDIuMiAyLjIgMi4yIDEuMjEgMCAyLjItLjk4IDIuMi0yLjIgMC0uODUtLjQ5LTEuNTgtMS4yLTEuOTVWMTVoM2MxLjExIDAgMi0uODkgMi0ydi0yaDFWN2gtNHpcIiBmaWxsPVwiI2ZmZmZmZlwiLz48L3N2Zz4nLFxyXG4gICAgaXNTdXBwb3J0ZWQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCFuYXZpZ2F0b3Iuc2VyaWFsKVxyXG4gICAgICAgIHJldHVybiBcIk5vIG5hdmlnYXRvci5zZXJpYWwgLSBXZWIgU2VyaWFsIG5vdCBlbmFibGVkXCI7XHJcbiAgICAgIGlmICh3aW5kb3cgJiYgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD09XCJodHRwOlwiICYmXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUhPVwibG9jYWxob3N0XCIpXHJcbiAgICAgICAgcmV0dXJuIFwiU2VydmluZyBvZmYgSFRUUCAobm90IEhUVFBTKSAtIFdlYiBTZXJpYWwgbm90IGVuYWJsZWRcIjtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgY29ubmVjdCA6IGZ1bmN0aW9uKGNvbm5lY3Rpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBzZXJpYWxQb3J0O1xyXG4gICAgICBmdW5jdGlvbiBkaXNjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgY29ubmVjdGlvbi5pc09wZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoY29ubmVjdGlvbi5pc09wZW4pIHtcclxuICAgICAgICAgIGxvZygxLCBcIkRpc2Nvbm5lY3RlZFwiKTtcclxuICAgICAgICAgIGNvbm5lY3Rpb24uaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICBjb25uZWN0aW9uLmVtaXQoJ2Nsb3NlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIFRPRE86IFBhc3MgVVNCIHZlbmRvciBhbmQgcHJvZHVjdCBJRCBmaWx0ZXIgd2hlbiBzdXBwb3J0ZWQgYnkgQ2hyb21lLlxyXG4gICAgICBuYXZpZ2F0b3Iuc2VyaWFsLnJlcXVlc3RQb3J0KHt9KS50aGVuKGZ1bmN0aW9uKHBvcnQpIHtcclxuICAgICAgICBsb2coMSwgXCJDb25uZWN0aW5nIHRvIHNlcmlhbCBwb3J0XCIpO1xyXG4gICAgICAgIHNlcmlhbFBvcnQgPSBwb3J0O1xyXG4gICAgICAgIHJldHVybiBwb3J0Lm9wZW4oeyBiYXVkcmF0ZTogMTE1MjAwIH0pO1xyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiByZWFkTG9vcCgpIHtcclxuICAgICAgICAgIHZhciByZWFkZXIgPSBzZXJpYWxQb3J0LnJlYWRhYmxlLmdldFJlYWRlcigpO1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uICh7IHZhbHVlLCBkb25lIH0pIHtcclxuICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHZhciBzdHIgPSBhYjJzdHIodmFsdWUuYnVmZmVyKTtcclxuICAgICAgICAgICAgICBsb2coMywgXCJSZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShzdHIpKTtcclxuICAgICAgICAgICAgICBjb25uZWN0aW9uLmVtaXQoJ2RhdGEnLCBzdHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb25lKSB7XHJcbiAgICAgICAgICAgICAgZGlzY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVhZExvb3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlYWRMb29wKCk7XHJcbiAgICAgICAgbG9nKDEsXCJTZXJpYWwgY29ubmVjdGVkLiBSZWNlaXZpbmcgZGF0YS4uLlwiKTtcclxuICAgICAgICBjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbm5lY3Rpb24uaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICBjb25uZWN0aW9uLmlzT3BlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNhbGxiYWNrKGNvbm5lY3Rpb24pO1xyXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIGxvZygwLCAnRVJST1I6ICcgKyBlcnJvcik7XHJcbiAgICAgICAgZGlzY29ubmVjdGVkKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25uZWN0aW9uLmNsb3NlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoc2VyaWFsUG9ydCkge1xyXG4gICAgICAgICAgc2VyaWFsUG9ydC5jbG9zZSgpO1xyXG4gICAgICAgICAgc2VyaWFsUG9ydCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzY29ubmVjdGVkKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbm5lY3Rpb24ud3JpdGUgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciB3cml0ZXIgPSBzZXJpYWxQb3J0LndyaXRhYmxlLmdldFdyaXRlcigpO1xyXG4gICAgICAgIC8vIFRPRE86IHByb2dyZXNzP1xyXG4gICAgICAgIHdyaXRlci53cml0ZShzdHIyYWIoZGF0YSkpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICBsb2coMCwnU0VORCBFUlJPUjogJyArIGVycm9yKTtcclxuICAgICAgICAgIGNsb3NlU2VyaWFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd3JpdGVyLnJlbGVhc2VMb2NrKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gY29ubmVjdGlvbjtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBlbmRwb2ludHMucHVzaChXZWJCbHVldG9vdGgpO1xyXG4gIGVuZHBvaW50cy5wdXNoKFdlYlNlcmlhbCk7XHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIHZhciBjb25uZWN0aW9uO1xyXG4gIGZ1bmN0aW9uIGNvbm5lY3QoY2FsbGJhY2spIHtcclxuICAgIHZhciBjb25uZWN0aW9uID0ge1xyXG4gICAgICBvbiA6IGZ1bmN0aW9uKGV2dCxjYikgeyB0aGlzW1wib25cIitldnRdPWNiOyB9LFxyXG4gICAgICBlbWl0IDogZnVuY3Rpb24oZXZ0LGRhdGEpIHsgaWYgKHRoaXNbXCJvblwiK2V2dF0pIHRoaXNbXCJvblwiK2V2dF0oZGF0YSk7IH0sXHJcbiAgICAgIGlzT3BlbiA6IGZhbHNlLFxyXG4gICAgICBpc09wZW5pbmcgOiB0cnVlLFxyXG4gICAgICB0eEluUHJvZ3Jlc3MgOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBtb2RhbFxyXG4gICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGUuc3R5bGUgPSAncG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtvcGFjaXR5OjAuNTt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kOmJsYWNrOyc7XHJcbiAgICAvLyBtZW51XHJcbiAgICB2YXIgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbWVudS5zdHlsZSA9ICdwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtmb250LWZhbWlseTogU2Fucy1TZXJpZjt6LWluZGV4OjEwMTsnO1xyXG4gICAgdmFyIG1lbnV0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbWVudXRpdGxlLmlubmVyVGV4dCA9IFwiU0VMRUNUIEEgUE9SVC4uLlwiO1xyXG4gICAgbWVudXRpdGxlLnN0eWxlID0gJ2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMDAwO3BhZGRpbmc6OHB4IDhweCA0cHggOHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7JztcclxuICAgIG1lbnUuYXBwZW5kQ2hpbGQobWVudXRpdGxlKTtcclxuICAgIHZhciBpdGVtcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaXRlbXMuc3R5bGUgPSAnY29sb3I6IzAwMDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzo0cHggOHB4IDRweCA4cHg7JztcclxuICAgIG1lbnUuYXBwZW5kQ2hpbGQoaXRlbXMpO1xyXG4gICAgZW5kcG9pbnRzLmZvckVhY2goZnVuY3Rpb24oZW5kcG9pbnQpIHtcclxuICAgICAgdmFyIHN1cHBvcnRlZCA9IGVuZHBvaW50LmlzU3VwcG9ydGVkKCk7XHJcbiAgICAgIGlmIChzdXBwb3J0ZWQhPT10cnVlKVxyXG4gICAgICAgIGxvZygwLCBlbmRwb2ludC5uYW1lK1wiIG5vdCBzdXBwb3J0ZWQsIFwiK3N1cHBvcnRlZCk7XHJcbiAgICAgIHZhciBlcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBlcC5zdHlsZSA9ICd3aWR0aDozMDBweDtoZWlnaHQ6NjBweDtiYWNrZ3JvdW5kOiNjY2M7bWFyZ2luOjRweCAwcHggNHB4IDBweDtwYWRkaW5nOjBweCAwcHggMHB4IDY4cHg7Y3Vyc29yOnBvaW50ZXI7JztcclxuICAgICAgZXAuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjhweDt3aWR0aDo0OHB4O2hlaWdodDo0OHB4O2JhY2tncm91bmQ6Izk5OTtwYWRkaW5nOjZweDtjdXJzb3I6cG9pbnRlcjtcIj4nK2VuZHBvaW50LnN2ZysnPC9kaXY+JytcclxuICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJmb250LXNpemU6MTUwJTtwYWRkaW5nLXRvcDo4cHg7XCI+JytlbmRwb2ludC5uYW1lKyc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTo4MCU7Y29sb3I6IzY2NlwiPicrZW5kcG9pbnQuZGVzY3JpcHRpb24rJzwvZGl2Pic7XHJcbiAgICAgIGVwLm9uY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBjb25uZWN0aW9uID0gZW5kcG9pbnQuY29ubmVjdChjb25uZWN0aW9uLCBjYWxsYmFjayk7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtZW51KTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtcy5hcHBlbmRDaGlsZChlcCk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lbnUpO1xyXG4gICAgcmV0dXJuIGNvbm5lY3Rpb247XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGNoZWNrSWZTdXBwb3J0ZWQoKSB7XHJcbiAgICB2YXIgYW55U3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICBlbmRwb2ludHMuZm9yRWFjaChmdW5jdGlvbihlbmRwb2ludCkge1xyXG4gICAgICB2YXIgc3VwcG9ydGVkID0gZW5kcG9pbnQuaXNTdXBwb3J0ZWQoKTtcclxuICAgICAgaWYgKHN1cHBvcnRlZD09PXRydWUpXHJcbiAgICAgICAgYW55U3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIGxvZygwLCBlbmRwb2ludC5uYW1lK1wiIG5vdCBzdXBwb3J0ZWQsIFwiK3N1cHBvcnRlZCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhbnlTdXBwb3J0ZWQ7XHJcbiAgfVxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvKiBjb252ZW5pZW5jZSBmdW5jdGlvbi4uLiBXcml0ZSBkYXRhLCBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIGRhdGE6XHJcbiAgICAgICBjYWxsYmFja05ld2xpbmUgPSBmYWxzZSA9PiBpZiBubyBuZXcgZGF0YSByZWNlaXZlZCBmb3IgfjAuMiBzZWNcclxuICAgICAgIGNhbGxiYWNrTmV3bGluZSA9IHRydWUgPT4gYWZ0ZXIgYSBuZXdsaW5lICovXHJcbiAgZnVuY3Rpb24gd3JpdGUoZGF0YSwgY2FsbGJhY2ssIGNhbGxiYWNrTmV3bGluZSkge1xyXG4gICAgaWYgKCFjaGVja0lmU3VwcG9ydGVkKCkpIHJldHVybjtcclxuICAgIGlmIChpc0J1c3kpIHtcclxuICAgICAgbG9nKDMsIFwiQnVzeSAtIGFkZGluZyB3cml0ZSB0byBxdWV1ZVwiKTtcclxuICAgICAgcXVldWUucHVzaCh7dHlwZTpcIndyaXRlXCIsIGRhdGE6ZGF0YSwgY2FsbGJhY2s6Y2FsbGJhY2ssIGNhbGxiYWNrTmV3bGluZTpjYWxsYmFja05ld2xpbmV9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjYlRpbWVvdXQ7XHJcbiAgICBmdW5jdGlvbiBvbldyaXR0ZW4oKSB7XHJcbiAgICAgIGlmIChjYWxsYmFja05ld2xpbmUpIHtcclxuICAgICAgICBjb25uZWN0aW9uLmNiID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgdmFyIG5ld0xpbmVJZHggPSBjb25uZWN0aW9uLnJlY2VpdmVkLmluZGV4T2YoXCJcXG5cIik7XHJcbiAgICAgICAgICBpZiAobmV3TGluZUlkeD49MCkge1xyXG4gICAgICAgICAgICB2YXIgbCA9IGNvbm5lY3Rpb24ucmVjZWl2ZWQuc3Vic3RyKDAsbmV3TGluZUlkeCk7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSBjb25uZWN0aW9uLnJlY2VpdmVkLnN1YnN0cihuZXdMaW5lSWR4KzEpO1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uLmNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAoY2JUaW1lb3V0KSBjbGVhclRpbWVvdXQoY2JUaW1lb3V0KTtcclxuICAgICAgICAgICAgY2JUaW1lb3V0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgY2FsbGJhY2sobCk7XHJcbiAgICAgICAgICAgIGlzQnVzeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBoYW5kbGVRdWV1ZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgLy8gd2FpdCBmb3IgYW55IHJlY2VpdmVkIGRhdGEgaWYgd2UgaGF2ZSBhIGNhbGxiYWNrLi4uXHJcbiAgICAgIHZhciBtYXhUaW1lID0gMzAwOyAvLyAzMCBzZWMgLSBNYXggdGltZSB3ZSB3YWl0IGluIHRvdGFsLCBldmVuIGlmIGdldHRpbmcgZGF0YVxyXG4gICAgICB2YXIgZGF0YVdhaXRUaW1lID0gY2FsbGJhY2tOZXdsaW5lID8gMTAwLyoxMCBzZWMgIGlmIHdhaXRpbmcgZm9yIG5ld2xpbmUqLyA6IDMvKjMwMG1zKi87XHJcbiAgICAgIHZhciBtYXhEYXRhVGltZSA9IGRhdGFXYWl0VGltZTsgLy8gbWF4IHRpbWUgd2Ugd2FpdCBhZnRlciBoYXZpbmcgcmVjZWl2ZWQgZGF0YVxyXG4gICAgICBjYlRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIHRpbWVvdXQoKSB7XHJcbiAgICAgICAgY2JUaW1lb3V0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChtYXhUaW1lKSBtYXhUaW1lLS07XHJcbiAgICAgICAgaWYgKG1heERhdGFUaW1lKSBtYXhEYXRhVGltZS0tO1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLmhhZERhdGEpIG1heERhdGFUaW1lPWRhdGFXYWl0VGltZTtcclxuICAgICAgICBpZiAobWF4RGF0YVRpbWUgJiYgbWF4VGltZSkge1xyXG4gICAgICAgICAgY2JUaW1lb3V0ID0gc2V0VGltZW91dCh0aW1lb3V0LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25uZWN0aW9uLmNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrTmV3bGluZSlcclxuICAgICAgICAgICAgbG9nKDIsIFwid3JpdGUgd2FpdGluZyBmb3IgbmV3bGluZSB0aW1lZCBvdXRcIik7XHJcbiAgICAgICAgICBpZiAoY2FsbGJhY2spXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGNvbm5lY3Rpb24ucmVjZWl2ZWQpO1xyXG4gICAgICAgICAgaXNCdXN5ID0gZmFsc2U7XHJcbiAgICAgICAgICBoYW5kbGVRdWV1ZSgpO1xyXG4gICAgICAgICAgY29ubmVjdGlvbi5yZWNlaXZlZCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbm5lY3Rpb24uaGFkRGF0YSA9IGZhbHNlO1xyXG4gICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25uZWN0aW9uICYmIChjb25uZWN0aW9uLmlzT3BlbiB8fCBjb25uZWN0aW9uLmlzT3BlbmluZykpIHtcclxuICAgICAgaWYgKCFjb25uZWN0aW9uLnR4SW5Qcm9ncmVzcykgY29ubmVjdGlvbi5yZWNlaXZlZCA9IFwiXCI7XHJcbiAgICAgIGlzQnVzeSA9IHRydWU7XHJcbiAgICAgIHJldHVybiBjb25uZWN0aW9uLndyaXRlKGRhdGEsIG9uV3JpdHRlbik7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdGlvbiA9IGNvbm5lY3QoZnVuY3Rpb24odWFydCkge1xyXG4gICAgICBpZiAoIXVhcnQpIHtcclxuICAgICAgICBjb25uZWN0aW9uID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobnVsbCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgPSBcIlwiO1xyXG4gICAgICBjb25uZWN0aW9uLm9uKCdkYXRhJywgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIGNvbm5lY3Rpb24ucmVjZWl2ZWQgKz0gZDtcclxuICAgICAgICBjb25uZWN0aW9uLmhhZERhdGEgPSB0cnVlO1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLmNiKSAgY29ubmVjdGlvbi5jYihkKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbm5lY3Rpb24ub24oJ2Nsb3NlJywgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIGNvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpc0J1c3kgPSB0cnVlO1xyXG4gICAgICBjb25uZWN0aW9uLndyaXRlKGRhdGEsIG9uV3JpdHRlbik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGV2YWx1YXRlKGV4cHIsIGNiKSB7XHJcbiAgICBpZiAoIWNoZWNrSWZTdXBwb3J0ZWQoKSkgcmV0dXJuO1xyXG4gICAgaWYgKGlzQnVzeSkge1xyXG4gICAgICBsb2coMywgXCJCdXN5IC0gYWRkaW5nIGV2YWwgdG8gcXVldWVcIik7XHJcbiAgICAgIHF1ZXVlLnB1c2goe3R5cGU6XCJldmFsXCIsIGV4cHI6ZXhwciwgY2I6Y2J9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgd3JpdGUoJ1xceDEwZXZhbChwcm9jZXNzLmVudi5DT05TT0xFKS5wcmludGxuKEpTT04uc3RyaW5naWZ5KCcrZXhwcisnKSlcXG4nLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGQudHJpbSgpKTtcclxuICAgICAgICBjYihqc29uKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZygxLCBcIlVuYWJsZSB0byBkZWNvZGUgXCIrSlNPTi5zdHJpbmdpZnkoZCkrXCIsIGdvdCBcIitlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNiKG51bGwsIFwiVW5hYmxlIHRvIGRlY29kZSBcIitKU09OLnN0cmluZ2lmeShkKStcIiwgZ290IFwiK2UudG9TdHJpbmcoKSk7XHJcbiAgICAgIH1cclxuICAgIH0sIHRydWUvKmNhbGxiYWNrTmV3bGluZSovKTtcclxuICB9O1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIHZhciB1YXJ0ID0ge1xyXG4gICAgLy8vIEFyZSB3ZSB3cml0aW5nIGRlYnVnIGluZm9ybWF0aW9uPyAwIGlzIG5vLCAxIGlzIHNvbWUsIDIgaXMgbW9yZSwgMyBpcyBhbGwuXHJcbiAgICBkZWJ1ZyA6IDMsLy9GSVhNRSAxLFxyXG4gICAgLy8vIFNob3VsZCB3ZSB1c2UgZmxvdyBjb250cm9sPyBEZWZhdWx0IGlzIHRydWVcclxuICAgIGZsb3dDb250cm9sIDogdHJ1ZSxcclxuICAgIC8vLyBVc2VkIGludGVybmFsbHkgdG8gd3JpdGUgbG9nIGluZm9ybWF0aW9uIC0geW91IGNhbiByZXBsYWNlIHRoaXMgd2l0aCB5b3VyIG93biBmdW5jdGlvblxyXG4gICAgbG9nIDogZnVuY3Rpb24obGV2ZWwsIHMpIHsgaWYgKGxldmVsIDw9IHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKFwiPFVBUlQ+IFwiK3MpfSxcclxuICAgIC8vLyBDYWxsZWQgd2l0aCB0aGUgY3VycmVudCBzZW5kIHByb2dyZXNzIG9yIHVuZGVmaW5lZCB3aGVuIGRvbmUgLSB5b3UgY2FuIHJlcGxhY2UgdGhpcyB3aXRoIHlvdXIgb3duIGZ1bmN0aW9uXHJcbiAgICB3cml0ZVByb2dyZXNzIDogZnVuY3Rpb24gKGNoYXJzU2VudCwgY2hhcnNUb3RhbCkge1xyXG4gICAgICAvL2NvbnNvbGUubG9nKGNoYXJzU2VudCArIFwiL1wiICsgY2hhcnNUb3RhbCk7XHJcbiAgICB9LFxyXG4gICAgLyoqIENvbm5lY3QgdG8gYSBuZXcgZGV2aWNlIC0gdGhpcyBjcmVhdGVzIGEgc2VwYXJhdGVcclxuICAgICBjb25uZWN0aW9uIHRvIHRoZSBvbmUgYHdyaXRlYCBhbmQgYGV2YWxgIHVzZS4gKi9cclxuICAgIGNvbm5lY3QgOiBjb25uZWN0LFxyXG4gICAgLy8vIFdyaXRlIHRvIGEgZGV2aWNlIGFuZCBjYWxsIGJhY2sgd2hlbiB0aGUgZGF0YSBpcyB3cml0dGVuLiAgQ3JlYXRlcyBhIGNvbm5lY3Rpb24gaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgd3JpdGUgOiB3cml0ZSxcclxuICAgIC8vLyBFdmFsdWF0ZSBhbiBleHByZXNzaW9uIGFuZCBjYWxsIGNiIHdpdGggdGhlIHJlc3VsdC4gQ3JlYXRlcyBhIGNvbm5lY3Rpb24gaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgZXZhbCA6IGV2YWx1YXRlLFxyXG4gICAgLy8vIFdyaXRlIHRoZSBjdXJyZW50IHRpbWUgdG8gdGhlIGRldmljZVxyXG4gICAgc2V0VGltZSA6IGZ1bmN0aW9uKGNiKSB7XHJcbiAgICAgIHZhciBkID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIGNtZCA9ICdzZXRUaW1lKCcrKGQuZ2V0VGltZSgpLzEwMDApKycpOyc7XHJcbiAgICAgIC8vIGluIDF2OTMgd2UgaGF2ZSB0aW1lem9uZXMgdG9vXHJcbiAgICAgIGNtZCArPSAnaWYgKEUuc2V0VGltZVpvbmUpIEUuc2V0VGltZVpvbmUoJytkLmdldFRpbWV6b25lT2Zmc2V0KCkvLTYwKycpO1xcbic7XHJcbiAgICAgIHdyaXRlKGNtZCwgY2IpO1xyXG4gICAgfSxcclxuICAgIC8vLyBEaWQgYHdyaXRlYCBhbmQgYGV2YWxgIG1hbmFnZSB0byBjcmVhdGUgYSBjb25uZWN0aW9uP1xyXG4gICAgaXNDb25uZWN0ZWQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGNvbm5lY3Rpb24hPT11bmRlZmluZWQ7XHJcbiAgICB9LFxyXG4gICAgLy8vIGdldCB0aGUgY29ubmVjdGlvbiB1c2VkIGJ5IGB3cml0ZWAgYW5kIGBldmFsYFxyXG4gICAgZ2V0Q29ubmVjdGlvbiA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gY29ubmVjdGlvbjtcclxuICAgIH0sXHJcbiAgICAvLy8gQ2xvc2UgdGhlIGNvbm5lY3Rpb24gdXNlZCBieSBgd3JpdGVgIGFuZCBgZXZhbGBcclxuICAgIGNsb3NlIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChjb25uZWN0aW9uKVxyXG4gICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcclxuICAgIH0sXHJcbiAgICAvKiogVXRpbGl0eSBmdW5jdGlvbiB0byBmYWRlIG91dCBldmVyeXRoaW5nIG9uIHRoZSB3ZWJwYWdlIGFuZCBkaXNwbGF5XHJcbiAgICBhIHdpbmRvdyBzYXlpbmcgJ0NsaWNrIHRvIGNvbnRpbnVlJy4gV2hlbiBjbGlja2VkIGl0J2xsIGRpc2FwcGVhciBhbmRcclxuICAgICdjYWxsYmFjaycgd2lsbCBiZSBjYWxsZWQuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgeW91IGNhbid0IGluaXRpYWxpc2VcclxuICAgIFdlYiBCbHVldG9vdGggdW5sZXNzIHlvdSdyZSBkb2luZyBzbyBpbiByZXNwb25zZSB0byBhIHVzZXIgaW5wdXQuKi9cclxuICAgIG1vZGFsIDogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgZS5zdHlsZSA9ICdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MHB4O2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206MHB4O29wYWNpdHk6MC41O3otaW5kZXg6MTAwO2JhY2tncm91bmQ6YmxhY2s7JztcclxuICAgICAgZS5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO2ZvbnQtZmFtaWx5OiBTYW5zLVNlcmlmO2ZvbnQtc2l6ZTo0MDAlO2NvbG9yOndoaXRlO1wiPkNsaWNrIHRvIENvbnRpbnVlLi4uPC9kaXY+JztcclxuICAgICAgZS5vbmNsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpO1xyXG4gICAgICB9O1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIHVhcnQ7XHJcbn0pKTsiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVzcHJ1aW5vVG9vbCA9IHZvaWQgMDtcbnZhciBlc3BydWlub19ibGVfdWFydF8xID0gcmVxdWlyZShcImVzcHJ1aW5vLWJsZS11YXJ0XCIpO1xudmFyIGZldGNoSGVscGVyXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL2ZldGNoSGVscGVyXCIpO1xudmFyIEVzcHJ1aW5vVG9vbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFc3BydWlub1Rvb2woKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuVUFSVCA9IGVzcHJ1aW5vX2JsZV91YXJ0XzEuZGVmYXVsdDtcbiAgICB9XG4gICAgRXNwcnVpbm9Ub29sLnByb3RvdHlwZS5kdW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZXZhbCgnRS5kdW1wU3RyKCknKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBFc3BydWlub1Rvb2wucHJvdG90eXBlLmdldERldmljZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5ldmFsKFwicHJvY2Vzcy5lbnYuQk9BUkRcIildO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRXNwcnVpbm9Ub29sLnByb3RvdHlwZS5nZXRCYXR0ZXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZXZhbChcIkUuZ2V0QmF0dGVyeSgpXCIpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVzcHJ1aW5vVG9vbC5wcm90b3R5cGUuZ2V0VGVtcGVyYXR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5ldmFsKFwiRS5nZXRUZW1wZXJhdHVyZSgpXCIpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVzcHJ1aW5vVG9vbC5wcm90b3R5cGUuZXZhbCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlVBUlQuZXZhbChjb2RlLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRXNwcnVpbm9Ub29sLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuVUFSVCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndyaXRlKCdcXHgwMycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIChfdGhpcy5jb25uZWN0ZWQgPSB0cnVlKTsgfSk7XG4gICAgfTtcbiAgICBFc3BydWlub1Rvb2wucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5VQVJUKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIEVzcHJ1aW5vVG9vbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuVUFSVC53cml0ZSgncmVzZXQodHJ1ZSk7XFxuJyk7XG4gICAgfTtcbiAgICBFc3BydWlub1Rvb2wucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uICh1cmwsIGZsYXNoKSB7XG4gICAgICAgIGlmIChmbGFzaCA9PT0gdm9pZCAwKSB7IGZsYXNoID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRldmljZVR5cGUsIHN1Y2Nlc3M7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldERldmljZVR5cGUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZVR5cGUgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PT0gJ0JBTkdMRUpTJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hIZWxwZXJfMS5mZXRjaFRvVGV4dCkodXJsKS50aGVuKGZ1bmN0aW9uIChyYXdDb2RlKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHVtcCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZsYXNoICYmICFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5VQVJULndyaXRlKHJhd0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXN1Y2Nlc3MgJiYgZGV2aWNlVHlwZSAhPT0gJ1BJWExKUycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVBUlQud3JpdGUoXCJFLnNldEJvb3RDb2RlKGBcIi5jb25jYXQocmF3Q29kZSwgXCJgLHRydWUpO1xcblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5VQVJULndyaXRlKCdsb2FkKCk7XFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuVUFSVC53cml0ZShyYXdDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVBUlQud3JpdGUoJ3NhdmUoKTtcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVBUlQud3JpdGUoJ2xvYWQoKTtcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFc3BydWlub1Rvb2w7XG59KCkpO1xuZXhwb3J0cy5Fc3BydWlub1Rvb2wgPSBFc3BydWlub1Rvb2w7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZldGNoVG9UZXh0ID0gdm9pZCAwO1xuZnVuY3Rpb24gZmV0Y2hUb1RleHQodXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmZXRjaCBvbiA6XCIuY29uY2F0KHVybCwgXCIgZmFpbGVkXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkYXRhLnRleHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmZldGNoVG9UZXh0ID0gZmV0Y2hUb1RleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RyaW5naWZ5RnVuY3Rpb24gPSB2b2lkIDA7XG5mdW5jdGlvbiBzdHJpbmdpZnlGdW5jdGlvbihmdW5jKSB7XG4gICAgY29uc29sZS5sb2coZnVuYy50b1N0cmluZygpKTtcbiAgICByZXR1cm4gZnVuYy50b1N0cmluZygpLnNwbGl0KCdcXG4nKS5zbGljZSgxLCAtMSkuam9pbignXFxuJyk7XG59XG5leHBvcnRzLnN0cmluZ2lmeUZ1bmN0aW9uID0gc3RyaW5naWZ5RnVuY3Rpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlB1Y2sgPSB2b2lkIDA7XG52YXIgZXNwcnVpbm9fdG9vbF8xID0gcmVxdWlyZShcIi4uL2VzcHJ1aW5vLXRvb2xcIik7XG52YXIgZnVuY1RvU3RyaW5nXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy9mdW5jVG9TdHJpbmdcIik7XG52YXIgUHVjayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHVjaywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQdWNrKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFB1Y2sucHJvdG90eXBlLm9uUHJlc3MgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICB0aGlzLlVBUlQud3JpdGUoJ3Jlc2V0KCk7XFxuJyk7XG4gICAgICAgIHRoaXMuVUFSVC53cml0ZShcIlxcbiAgICBzZXRXYXRjaChmdW5jdGlvbigpe1xcbiAgICAgIFwiLmNvbmNhdCgoMCwgZnVuY1RvU3RyaW5nXzEuc3RyaW5naWZ5RnVuY3Rpb24pKGZ1bmMpLCBcIjtcXG4gICAgfSwgQlROLHtlZGdlOlxcXCJyaXNpbmdcXFwiLCByZXBlYXQ6dHJ1ZSwgZGVib3VuY2U6NTB9KVxcbiAgXCIpKTtcbiAgICB9O1xuICAgIHJldHVybiBQdWNrO1xufShlc3BydWlub190b29sXzEuRXNwcnVpbm9Ub29sKSk7XG5leHBvcnRzLlB1Y2sgPSBQdWNrO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QdWNrID0gdm9pZCAwO1xudmFyIGVzcHJ1aW5vX3Rvb2xfMSA9IHJlcXVpcmUoXCIuL2VzcHJ1aW5vLXRvb2xcIik7XG52YXIgcHVja18xID0gcmVxdWlyZShcIi4vcHVjay9wdWNrXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUHVja1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHVja18xLlB1Y2s7IH0gfSk7XG5leHBvcnRzLmRlZmF1bHQgPSBlc3BydWlub190b29sXzEuRXNwcnVpbm9Ub29sO1xuIl0sIm5hbWVzIjpbInNlbGYiLCJuYXZpZ2F0b3IiLCJpc0J1c3kiLCJjb25uZWN0aW9uIiwicXVldWUiLCJlbmRwb2ludHMiLCJXZWJCbHVldG9vdGgiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJzdmciLCJpc1N1cHBvcnRlZCIsInBsYXRmb3JtIiwiaW5kZXhPZiIsInVzZXJBZ2VudCIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsImJsdWV0b290aCIsInRlc3QiLCJNU1N0cmVhbSIsImNvbm5lY3QiLCJjYWxsYmFjayIsImJ0U2VydmljZSIsInR4Q2hhcmFjdGVyaXN0aWMiLCJyeENoYXJhY3RlcmlzdGljIiwiTk9SRElDX1NFUlZJQ0UiLCJOT1JESUNfVFgiLCJOT1JESUNfUlgiLCJDSFVOS1NJWkUiLCJidFNlcnZlciIsInVuZGVmaW5lZCIsInR4RGF0YVF1ZXVlIiwiZmxvd0NvbnRyb2xYT0ZGIiwiY2xvc2UiLCJpc09wZW5pbmciLCJpc09wZW4iLCJlbWl0IiwiZGlzY29ubmVjdCIsIndyaXRlIiwiZGF0YSIsIndyaXRlQ2h1bmsiLCJjaHVuayIsInNldFRpbWVvdXQiLCJsZW5ndGgiLCJ0eEl0ZW0iLCJ1YXJ0Iiwid3JpdGVQcm9ncmVzcyIsIm1heExlbmd0aCIsInN1YnN0ciIsInR4SW5Qcm9ncmVzcyIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZVZhbHVlIiwic3RyMmFiIiwidGhlbiIsInNoaWZ0IiwiY2F0Y2giLCJlcnJvciIsInB1c2giLCJyZXF1ZXN0RGV2aWNlIiwiZmlsdGVycyIsIm5hbWVQcmVmaXgiLCJzZXJ2aWNlcyIsIm9wdGlvbmFsU2VydmljZXMiLCJkZXZpY2UiLCJpZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYXR0Iiwic2VydmVyIiwiZ2V0UHJpbWFyeVNlcnZpY2UiLCJzZXJ2aWNlIiwiZ2V0Q2hhcmFjdGVyaXN0aWMiLCJjaGFyYWN0ZXJpc3RpYyIsImV2ZW50IiwiZGF0YXZpZXciLCJ0YXJnZXQiLCJ2YWx1ZSIsImZsb3dDb250cm9sIiwiaSIsImNoIiwiZ2V0VWludDgiLCJzdHIiLCJhYjJzdHIiLCJidWZmZXIiLCJzdGFydE5vdGlmaWNhdGlvbnMiLCJXZWJTZXJpYWwiLCJzZXJpYWwiLCJzZXJpYWxQb3J0IiwiZGlzY29ubmVjdGVkIiwicmVxdWVzdFBvcnQiLCJwb3J0Iiwib3BlbiIsImJhdWRyYXRlIiwicmVhZExvb3AiLCJyZWFkZXIiLCJyZWFkYWJsZSIsImdldFJlYWRlciIsInJlYWQiLCJkb25lIiwicmVsZWFzZUxvY2siLCJ3cml0ZXIiLCJ3cml0YWJsZSIsImdldFdyaXRlciIsImNsb3NlU2VyaWFsIiwiZGVidWciLCJsZXZlbCIsInMiLCJ0aGlzIiwiY29uc29sZSIsImNoYXJzU2VudCIsImNoYXJzVG90YWwiLCJldmFsIiwiZXZhbHVhdGUiLCJzZXRUaW1lIiwiY2IiLCJkIiwiRGF0ZSIsImNtZCIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldCIsImlzQ29ubmVjdGVkIiwiZ2V0Q29ubmVjdGlvbiIsIm1vZGFsIiwiZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiaW5uZXJIVE1MIiwib25jbGljayIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiYm9keSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJidWYiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIlVpbnQ4QXJyYXkiLCJBcnJheUJ1ZmZlciIsImJ1ZlZpZXciLCJzdHJMZW4iLCJjaGFyQ29kZUF0IiwiaGFuZGxlUXVldWUiLCJxIiwidHlwZSIsImV4cHIiLCJjYWxsYmFja05ld2xpbmUiLCJvbiIsIm1lbnUiLCJtZW51dGl0bGUiLCJpbm5lclRleHQiLCJpdGVtcyIsImZvckVhY2giLCJlbmRwb2ludCIsInN1cHBvcnRlZCIsImVwIiwiY2hlY2tJZlN1cHBvcnRlZCIsImFueVN1cHBvcnRlZCIsImNiVGltZW91dCIsInJlY2VpdmVkIiwib25Xcml0dGVuIiwiaGFkRGF0YSIsIm5ld0xpbmVJZHgiLCJsIiwiY2xlYXJUaW1lb3V0IiwibWF4VGltZSIsImRhdGFXYWl0VGltZSIsIm1heERhdGFUaW1lIiwidGltZW91dCIsImpzb24iLCJwYXJzZSIsInRyaW0iLCJ0b1N0cmluZyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInJlc3VsdCIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJFc3BydWlub1Rvb2wiLCJlc3BydWlub19ibGVfdWFydF8xIiwiZmV0Y2hIZWxwZXJfMSIsImNvbm5lY3RlZCIsIlVBUlQiLCJkZWZhdWx0IiwicHJvdG90eXBlIiwiZHVtcCIsIl9hIiwiZ2V0RGV2aWNlVHlwZSIsImdldEJhdHRlcnkiLCJnZXRUZW1wZXJhdHVyZSIsImNvZGUiLCJfdGhpcyIsInJlc2V0IiwidXBsb2FkIiwidXJsIiwiZmxhc2giLCJkZXZpY2VUeXBlIiwiZmV0Y2hUb1RleHQiLCJyYXdDb2RlIiwicmVzcG9uc2UiLCJjb25jYXQiLCJmZXRjaCIsInJlcyIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0Iiwic3RyaW5naWZ5RnVuY3Rpb24iLCJmdW5jIiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiUHVjayIsImVzcHJ1aW5vX3Rvb2xfMSIsImZ1bmNUb1N0cmluZ18xIiwiX3N1cGVyIiwiYXJndW1lbnRzIiwib25QcmVzcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwdWNrXzEiLCJlbnVtZXJhYmxlIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==